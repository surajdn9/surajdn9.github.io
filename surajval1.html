<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Be My Valentine?</title>
<style>
  :root{
    --pink:#ff6fa8;
    --red:#ff3b6b;
    --bg:#fff6fb;
    --card:#ffffff;
    --text:#2a2a2a;
    --muted:#6b6b6b;
    --ok:#22c55e;
    --warn:#ef4444;
    --shadow: 0 10px 30px rgba(255,59,107,0.15);
  }
  * { box-sizing: border-box; }
  html, body {
    height: 100%;
    margin: 0;
    font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji";
    color: var(--text);
    background: radial-gradient(1200px 800px at 80% -20%, #ffd1e4, transparent 65%),
                radial-gradient(1400px 900px at -10% 110%, #ffe7f1, transparent 60%),
                var(--bg);
    overflow-x: hidden;
  }
  .wrap {
    max-width: 920px;
    margin: 0 auto;
    padding: 32px 20px 80px;
    text-align: center;
    position: relative;
  }
  h1 {
    font-size: clamp(28px, 3.6vw, 42px);
    margin: 18px 0 8px;
    line-height: 1.15;
  }
  .subtitle {
    color: var(--muted);
    margin-bottom: 26px;
  }

  /* Button styles */
  .btn {
    appearance: none;
    border: 0;
    padding: 14px 22px;
    border-radius: 12px;
    font-weight: 700;
    font-size: 16px;
    cursor: pointer;
    box-shadow: var(--shadow);
    transition: transform .12s ease, background .2s ease, box-shadow .2s ease;
    display: inline-flex;
    gap: 10px;
    align-items: center;
  }
  .btn:active { transform: translateY(1px) scale(0.99); }

  .btn-yes {
    background: linear-gradient(135deg, var(--red), var(--pink));
    color: white;
  }
  .btn-yes:hover { filter: brightness(1.05); }

  .btn-no {
    background: #ffffff;
    color: var(--text);
    border: 2px dashed #ff9ab8;
    position: absolute; /* so it can run away */
  }
  .btn-no[data-label="No"]::after { content: "No"; }
  .btn-no[data-label="Run away"]::after { content: "No"; }
  .btn-no span { visibility: hidden; } /* text handled by ::after for easy swap */

  .cta-area {
    margin-top: 20px;
    position: relative;
    height: 90px; /* space to let the No button run */
  }

  /* Gifts area */
  .gifts {
    display: none;
    margin-top: 26px;
    animation: pop .35s ease;
  }
  .gift-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
    gap: 18px;
    margin-top: 14px;
  }
  .gift-card {
    background: var(--card);
    border-radius: 16px;
    padding: 18px;
    text-align: left;
    box-shadow: var(--shadow);
    position: relative;
    overflow: hidden;
  }
  .gift-title {
    font-weight: 800;
    margin-bottom: 8px;
  }
  .gift-desc { color: var(--muted); margin-bottom: 12px; }
  .gift-locked::after {
    content: "üîí Locked ‚Äî finish Gift 1 first";
    position: absolute;
    inset: 0;
    background: rgba(255,255,255,0.8);
    display: grid;
    place-items: center;
    font-weight: 700;
    color: #a855f7;
  }
  .open-btn {
    background: #fff0f5;
    color: var(--red);
    border: 2px solid #ffc3d6;
  }

  /* Modals */
  .modal {
    position: fixed;
    inset: 0;
    display: none;
    place-items: center;
    background: rgba(0,0,0,0.35);
    padding: 18px;
    z-index: 20;
  }
  .modal.active { display: grid; }
  .modal-card {
    width: min(680px, 95vw);
    background: var(--card);
    border-radius: 18px;
    padding: 20px;
    text-align: left;
    box-shadow: var(--shadow);
    position: relative;
    overflow: hidden;
  }
  .modal h2 { margin: 4px 0 14px; }
  .close-x {
    position: absolute;
    top: 10px; right: 10px;
    background: transparent;
    border: 0;
    font-size: 22px;
    cursor: pointer;
  }
  .q {
    margin: 12px 0 14px;
    padding: 12px;
    border: 1px dashed #ffc3d6;
    border-radius: 12px;
    background: #fff8fb;
  }
  .q-title { font-weight: 800; margin-bottom: 6px; }
  .choices {
    display: grid;
    gap: 8px;
  }
  label.choice {
    display: flex; gap: 10px; align-items: center;
    padding: 8px 10px;
    border-radius: 10px;
    cursor: pointer;
    transition: background .15s ease;
  }
  label.choice:hover { background: #fff0f5; }
  .error {
    color: var(--warn); font-weight: 700; display: none; margin-top: 8px;
  }
  .ok {
    color: var(--ok); font-weight: 800; display: none; margin-top: 8px;
  }
  .submit-quiz {
    margin-top: 12px;
    background: linear-gradient(135deg, #10b981, #34d399);
    color: white;
  }

  /* Letter content */
  .letter {
    background: #fff8fb;
    border: 1px solid #ffd5e5;
    border-radius: 14px;
    padding: 16px;
    line-height: 1.6;
  }

  /* Floating hearts when Yes */
  .heart {
    position: fixed;
    font-size: 18px;
    pointer-events: none;
    animation: floatUp 2.4s ease-out forwards;
    z-index: 10;
  }
  @keyframes floatUp {
    0% { transform: translateY(0) scale(0.9); opacity: 0; }
    10% { opacity: 1; }
    100% { transform: translateY(-120px) scale(1.2); opacity: 0; }
  }
  @keyframes pop {
    from { transform: scale(0.97); opacity: 0; }
    to { transform: scale(1); opacity: 1; }
  }

  /* Footer note */
  .mini {
    margin-top: 24px;
    color: var(--muted);
    font-size: 13px;
  }
</style>
</head>
<body>
  <div class="wrap">
    <h2>Hiiiii my cookie ‚ù§Ô∏è </h2>
    <h1>Will you be my Valentine? üåπ</h1>
    <div class="subtitle">I have two little gifts waiting if you say <b>Yes</b>‚Ä¶</div>

    <div class="cta-area" id="ctaArea">
      <button class="btn btn-yes" id="yesBtn">Yes, of course! üíñ</button>
      <button class="btn btn-no" id="noBtn" data-label="No"><span>No</span></button>
    </div>

    <!-- Gifts section -->
    <section class="gifts" id="gifts">
      <h2>Yay! Here are your gifts üéÅ</h2>
      <div class="gift-grid">
        <article class="gift-card" id="gift1">
          <div class="gift-title">üéÅ Gift 1 ‚Äî A tiny quiz</div>
          <div class="gift-desc">2 easy questions. Get them right to unlock Gift 2.</div>
          <button class="btn open-btn" id="openQuiz">Open Quiz ‚ú®</button>
        </article>

        <article class="gift-card gift-locked" id="gift2Wrap">
          <div class="gift-title">üéÅ Gift 2 ‚Äî A letter for you</div>
          <div class="gift-desc">Opens after you ace the quiz. Promise it‚Äôs sweet.</div>
          <button class="btn open-btn" id="openLetter" disabled>Open Letter üíå</button>
        </article>
      </div>
      <div class="mini">P.S. The ‚ÄúNo‚Äù button is shy and tends to run away‚Ä¶</div>
    </section>
  </div>

  <!-- Quiz Modal -->
  <div class="modal" id="quizModal" aria-hidden="true">
    <div class="modal-card">
      <button class="close-x" aria-label="Close" data-close="#quizModal">‚úñ</button>
      <h2>Gift 1: The Tiniest Quiz üìö</h2>

      <form id="quizForm">
        <div class="q">
          <div class="q-title">1) Who is the boss in this relationship?</div>
          <div class="choices">
            <label class="choice"><input type="radio" name="q1" value="A" /> A) Jyoti</label>
            <label class="choice"><input type="radio" name="q1" value="B" /> B) Not Suraj</label>
            <label class="choice"><input type="radio" name="q1" value="C" /> C) Both option A and B</label>
          </div>
        </div>

        <div class="q">
          <div class="q-title">2) Where do I plan to spend the rest of my life?</div>
          <div class="choices">
            <label class="choice"><input type="radio" name="q2" value="A" /> A) Your heart</label>
            <label class="choice"><input type="radio" name="q2" value="B" /> B) Paris</label>
            <label class="choice"><input type="radio" name="q2" value="C" /> C) Mars</label>
          </div>
        </div>

        <div class="error" id="quizError">Oops! Try again ‚Äî I believe in you üí™</div>
        <div class="ok" id="quizOk">Perfect score! Gift 2 is now unlocked üéâ</div>

        <button type="submit" class="btn submit-quiz">Submit Answers ‚úÖ</button>
      </form>
    </div>
  </div>

  <!-- Letter Modal -->
  <div class="modal" id="letterModal" aria-hidden="true">
    <div class="modal-card">
      <button class="close-x" aria-label="Close" data-close="#letterModal">‚úñ</button>
      <h2>Gift 2: A Letter for You üíå</h2>
      <div class="letter">
        <p>Dear Jyoti,</p>
        <p>
          From the moment you walked into my world, everything‚Äôs been brighter, funnier,
          softer(hmm may be not :P), and just a little bit more magical. I want to spend my days making
          you smile, my evenings keeping you close, and my life loving you with all I‚Äôve got.
        </p>
        <p>
          So today, and always ‚Äî will you be my Valentine?
        </p>
        <p style="margin-top:12px;">Forever yours,<br/>Suraj ‚ù§Ô∏è</p>
      </div>
    </div>
  </div>

<script>
  // --- Elements
  const yesBtn = document.getElementById('yesBtn');
  const noBtn = document.getElementById('noBtn');
  const ctaArea = document.getElementById('ctaArea');
  const gifts = document.getElementById('gifts');
  const quizModal = document.getElementById('quizModal');
  const letterModal = document.getElementById('letterModal');
  const openQuiz = document.getElementById('openQuiz');
  const openLetter = document.getElementById('openLetter');
  const gift2Wrap = document.getElementById('gift2Wrap');

  // Center buttons initially; "No" starts near Yes
  function positionNoButton(initial = false) {
    const areaRect = ctaArea.getBoundingClientRect();
    const btnRect = noBtn.getBoundingClientRect();

    // Calculate a random spot within the ctaArea
    const padding = 6;
    const maxLeft = areaRect.width - btnRect.width - padding;
    const maxTop = areaRect.height - btnRect.height - padding;

    const left = Math.max(padding, Math.min(Math.random() * maxLeft, maxLeft));
    const top = Math.max(padding, Math.min(Math.random() * maxTop, maxTop));

    noBtn.style.left = `${left}px`;
    noBtn.style.top = `${top}px`;

    if (initial) {
      // Ensure it's roughly to the right of Yes on load
      const yesRect = yesBtn.getBoundingClientRect();
      const offset = Math.min(maxLeft, (yesRect.width + 20));
      noBtn.style.left = `${offset}px`;
      noBtn.style.top = `8px`;
    }
  }
  positionNoButton(true);

  // Make No button "run away" & change label on hover
  function flee() {
    noBtn.dataset.label = "Run away";
    positionNoButton(false);
    // Reset label back to "No" shortly after
    clearTimeout(noBtn._labelTimer);
    noBtn._labelTimer = setTimeout(() => { noBtn.dataset.label = "No"; }, 800);
  }
  noBtn.addEventListener('mouseenter', flee);
  // For touch devices
  noBtn.addEventListener('touchstart', (e) => { e.preventDefault(); flee(); }, {passive:false});

  // Hearts burst
  function heartBurst(x, y, count = 16) {
    const emojis = ["üíñ","üíò","‚ù§Ô∏è","üíï","üíû"];
    for (let i = 0; i < count; i++) {
      const span = document.createElement('span');
      span.className = 'heart';
      span.textContent = emojis[Math.floor(Math.random()*emojis.length)];
      document.body.appendChild(span);
      const angle = Math.random() * Math.PI * 2;
      const dist = 20 + Math.random() * 80;
      const startX = x + Math.cos(angle) * (Math.random()*10);
      const startY = y + Math.sin(angle) * (Math.random()*10);
      span.style.left = `${startX}px`;
      span.style.top = `${startY}px`;
      span.style.fontSize = (16 + Math.random()*14) + 'px';
      span.style.transition = 'transform 2.4s ease-out, opacity 2.4s ease-out';
      // Start animation next frame
      requestAnimationFrame(() => {
        span.style.transform = `translate(${Math.cos(angle)*dist}px, ${-80 - Math.random()*80}px) scale(1.2)`;
        span.style.opacity = '0';
      });
      setTimeout(() => span.remove(), 2600);
    }
  }

  // Show gifts when clicking Yes
  yesBtn.addEventListener('click', (e) => {
    const rect = yesBtn.getBoundingClientRect();
    heartBurst(rect.left + rect.width/2, rect.top + rect.height/2);
    gifts.style.display = 'block';
    gifts.scrollIntoView({ behavior: 'smooth', block: 'center' });
  });

  // Modal helpers
  function openModal(el) {
    el.classList.add('active');
    el.setAttribute('aria-hidden', 'false');
  }
  function closeModal(el) {
    el.classList.remove('active');
    el.setAttribute('aria-hidden', 'true');
  }
  document.querySelectorAll('[data-close]').forEach(btn => {
    btn.addEventListener('click', () => {
      const target = document.querySelector(btn.getAttribute('data-close'));
      if (target) closeModal(target);
    });
  });
  [quizModal, letterModal].forEach(m => {
    m.addEventListener('click', (e) => {
      if (e.target === m) closeModal(m);
    });
  });

  // Open quiz
  openQuiz.addEventListener('click', () => openModal(quizModal));

  // Quiz logic
  const quizForm = document.getElementById('quizForm');
  const quizError = document.getElementById('quizError');
  const quizOk = document.getElementById('quizOk');

  quizForm.addEventListener('submit', (e) => {
    e.preventDefault();
    const data = new FormData(quizForm);
    const q1 = data.get('q1'); // correct: C
    const q2 = data.get('q2'); // correct: A

    const correct = (q1 === 'C') && (q2 === 'A');

    if (correct) {
      quizError.style.display = 'none';
      quizOk.style.display = 'block';
      // Unlock gift 2
      gift2Wrap.classList.remove('gift-locked');
      openLetter.disabled = false;

      // Celebrate a bit
      const rect = quizForm.getBoundingClientRect();
      heartBurst(rect.left + rect.width/2, rect.top + 20, 22);

      // Close after a short delay
      setTimeout(() => {
        closeModal(quizModal);
        quizOk.style.display = 'none';
      }, 1200);
    } else {
      quizOk.style.display = 'none';
      quizError.style.display = 'block';
      // Little shake effect
      quizForm.animate(
        [{transform:'translateX(0)'},{transform:'translateX(-6px)'},{transform:'translateX(6px)'},{transform:'translateX(0)'}],
        {duration: 220, iterations: 1}
      );
    }
  });

  // Open letter (only after unlocked)
  openLetter.addEventListener('click', () => {
    if (openLetter.disabled) return;
    openModal(letterModal);
  });

  // Keep No button in bounds on resize
  window.addEventListener('resize', () => positionNoButton(false));
</script>
</body>
</html>
